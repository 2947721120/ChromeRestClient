<dom-module id="arc-file-importer">
  <template>
    <style>
    :host {
      @apply(--layout-vertical);
    }
    h2 {
      @apply(--section-title);
    }
    #fileDrop {
      margin-left: 24px;
    }
    </style>
    <template is="dom-if" if="{{!isFileImport}}">
      <section id="fileImportSection">
        <h2 class="section-title">Import from file</h2>
        <file-drop id="fileDrop" on-file-ready="_onImportFile"></file-drop>
      </section>
    </template>
    <template is="dom-if" if="{{importFileReader}}">
      <div id="fileImportSpinner">
        <paper-spinner active="true" alt="Preparing data"></paper-spinner>
      </div>
    </template>
    <template is="dom-if" if="{{isFileImport}}">
      <arc-import-data-table projects="[[importData.projects]]" requests="[[importData.requests]]" on-import-action="_importTableAction"></arc-import-data-table>
    </template>
    <file-reader id="fileReader" loading="{{importFileReader}}" readAs="text" on-file-read="_importFileReady" on-file-error="_importFileError" auto></file-reader>
  </template>
  <script src="arc-file-importer.js"></script>
</dom-module>
