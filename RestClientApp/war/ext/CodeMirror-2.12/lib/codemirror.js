var CodeMirror=function(){function t(a,b){function e(c){O=null;var l={line:0,ch:0};m(l,{line:h.length-1,ch:h[h.length-1].text.length},W(c),l,l);O=new Ra}function d(){if(p.readOnly!="nocursor"){if(!S){if(p.onFocus)p.onFocus(J);S=!0;M.className.search(/\bCodeMirror-focused\b/)==-1&&(M.className+=" CodeMirror-focused");sa||Sa()}C();mb()}}function f(){if(S){if(p.onBlur)p.onBlur(J);S=!1;M.className=M.className.replace(" CodeMirror-focused","")}clearInterval(Ta);setTimeout(function(){S||(X=null)},150)}
function m(c,l,w,a,b){if(O){for(var y=[],j=c.line,k=l.line+1;j<k;++j)y.push(h[j].text);for(O.addChange(c.line,w.length,y);O.done.length>p.undoDepth;)O.done.shift()}nb(c,l,w,a,b)}function o(c,l){var w=c.pop();if(w){for(var a=[],b=w.start+w.added,y=w.start;y<b;++y)a.push(h[y].text);l.push({start:w.start,added:w.old.length,old:a});y=w.start+w.old.length-1;var a=a[a.length-1],j=w.old[w.old.length-1];if(j)if(a){for(var k=a.length,G=j.length;k>=0&&G>=0;--k,--G)if(a.charAt(k)!=j.charAt(G))break;a=G+1}else a=
j.length;else a=a?a.length:0;y=z({line:y,ch:a});nb({line:w.start,ch:0},{line:b-1,ch:h[b-1].text.length},w.old,y,y);T=!0}}function r(){o(O.done,O.undone)}function ob(){o(O.undone,O.done)}function nb(c,l,a,b,i){for(var y=!1,j=ta.length,k=c.line;k<=l.line;++k)if(h[k].text.length==j){y=!0;break}var G=l.line-c.line,k=h[c.line],n=h[l.line];if(k==n)if(a.length==1)k.replace(c.ch,l.ch,a[0]);else{var n=k.split(l.ch,a[a.length-1]),d=[c.line+1,G];k.replace(c.ch,k.text.length,a[0]);for(var k=1,e=a.length-1;k<
e;++k)d.push(new ua(a[k]));d.push(n);h.splice.apply(h,d)}else if(a.length==1)k.replace(c.ch,k.text.length,a[0]+n.text.slice(l.ch)),h.splice(c.line+1,G);else{d=[c.line+1,G-1];k.replace(c.ch,k.text.length,a[0]);n.replace(0,l.ch,a[a.length-1]);k=1;for(e=a.length-1;k<e;++k)d.push(new ua(a[k]));h.splice.apply(h,d)}k=c.line;for(e=k+a.length;k<e;++k)if(n=h[k].text,n.length>j)ta=n,j=n.length,ja=null,y=!1;if(y){j=0;ta="";ja=null;k=0;for(e=h.length;k<e;++k)if(n=h[k].text,n.length>j)j=n.length,ta=n}y=[];G=a.length-
G-1;k=0;for(n=Y.length;k<n;++k)j=Y[k],j<c.line?y.push(j):j>l.line&&y.push(j+G);if(a.length<5){n=c.line;k=c.line+a.length;for(j=za(n);n<k;++n)d=h[n],d.highlight(D,j),d.stateAfter=ka(D,j);y.push(c.line+a.length)}else y.push(c.line);Y=y;Ua(100);K.push({from:c.line,to:l.line+1,diff:G});Va={from:c,to:l,text:a};la(b,i,g.from.line<=Math.min(l.line,l.line+G)?g.from.line:g.from.line+G,g.to.line<=Math.min(l.line,l.line+G)?g.to.line:g.to.line+G);U.style.height=h.length*V()+2*H.offsetTop+"px"}function ca(c,l,
a){function b(q){if(L(q,l))return q;if(!L(a,q))return i;var j=q.line+c.length-(a.line-l.line)-1,k=q.ch;q.line==a.line&&(k+=c[c.length-1].length-(a.ch-(a.line==l.line?l.ch:0)));return{line:j,ch:k}}var l=z(l),a=a?z(a):l,c=W(c),i;pb(c,l,a,function(c){i=c;return{from:b(g.from),to:b(g.to)}});return i}function Aa(c,l){pb(W(c),g.from,g.to,function(c){return l=="end"?{from:c,to:c}:l=="start"?{from:g.from,to:g.from}:{from:g.from,to:c}})}function pb(c,l,a,b){b=b({line:l.line+c.length-1,ch:c.length==1?c[0].length+
l.ch:c[c.length-1].length});m(l,a,c,b.from,b.to)}function N(c,l){var a=c.line,b=l.line;if(a==b)return h[a].text.slice(c.ch,l.ch);var i=[h[a].text.slice(c.ch)];for(a+=1;a<b;++a)i.push(h[a].text);i.push(h[b].text.slice(0,l.ch));return i.join("\n")}function Q(){return N(g.from,g.to)}function C(){Wa||Xa.set(2E3,function(){Ya();qb();S&&C();Za()})}function P(c){function a(){Ya();var b=qb();b=="moved"&&c&&(Ba[c]=!0);!b&&!w?(w=!0,Xa.set(80,a)):(Wa=!1,C());Za()}var w=!1;Wa=!0;Xa.set(20,a)}function qb(){function c(c,
a){for(var l=0;;){var b=w.indexOf("\n",l);if(b==-1||(w.charAt(b-1)=="\r"?b-1:b)>=c)return{line:a,ch:c-l};++a;l=b+1}}if(!sa&&S){var a=!1,w=s.value,b=Ca(s);if(!b)return!1;var a=E.text!=w,i=da,y=a||b.start!=E.start||b.end!=(i?E.start:E.end);if(!y&&!i)return!1;if(a&&(X=da=null,p.readOnly))return T=!0,"changed";var j=c(b.start,E.from),k=c(b.end,E.from);if(i){var d=b.start==i.anchor?k:j,k=X?g.to:b.start==i.anchor?j:k;(g.inverted=L(d,k))?j=d:(da=null,j=k,k=d)}j.line==k.line&&j.line==g.from.line&&j.line==
g.to.line&&!X&&(T=!1);if(a){for(var d=0,i=w.length,n=Math.min(i,E.text.length),h,e=E.from,f=-1;d<n&&(h=w.charAt(d))==E.text.charAt(d);)++d,h=="\n"&&(e++,f=d);for(var n=f>-1?d-f:d,o=E.to-1,r=E.text.length;;){h=E.text.charAt(r);if(w.charAt(i)!=h){++i;++r;break}h=="\n"&&o--;if(r<=d||i<=d)break;--i;--r}f=E.text.lastIndexOf("\n",r-1);m({line:e,ch:n},{line:o,ch:f==-1?r:r-f-1},W(w.slice(d,i)),j,k);if(e!=o||j.line!=e)T=!0}else la(j,k);E.text=w;E.start=b.start;E.end=b.end;return a?"changed":y?"moved":!1}}
function Sa(){for(var c=[],a=Math.max(0,g.from.line-1),b=Math.min(h.length,g.to.line+2),q=a;q<b;++q)c.push(h[q].text);for(var c=s.value=c.join(Da),i=g.from.ch,d=g.to.ch,q=a;q<g.from.line;++q)i+=Da.length+h[q].text.length;for(q=a;q<g.to.line;++q)d+=Da.length+h[q].text.length;E={text:c,from:a,to:b,start:i,end:d};va(s,i,da?i:d)}function Ea(){p.readOnly!="nocursor"&&s.focus()}function rb(){var c=$a(g.inverted?g.from:g.to);return ha(c.x,c.y,c.x,c.yBot)}function ha(c,a,b,q){var i=H.offsetLeft,d=H.offsetTop,
j=V();a+=d;q+=d;c+=i;b+=i;var k=v.clientHeight,h=v.scrollTop,i=!1,d=!0;if(a<h)v.scrollTop=Math.max(0,a-2*j),i=!0;else if(q>h+k)v.scrollTop=q+j-k,i=!0;a=v.clientWidth;q=v.scrollLeft;if(c<q)c<50&&(c=0),v.scrollLeft=Math.max(0,c-10),i=!0;else if(b>a+q)v.scrollLeft=b+10-a,i=!0,b>U.clientWidth&&(d=!1);if(i&&p.onScroll)p.onScroll(J);return d}function ia(){var c=V(),a=v.scrollTop-H.offsetTop;return{from:Math.min(h.length,Math.max(0,Math.floor(a/c))),to:Math.min(h.length,Math.ceil((a+v.clientHeight)/c))}}
function R(c){if(v.clientWidth){for(var a=c===!0?[]:[{from:F,to:$,domStart:0}],b=0,q=c.length||0;b<q;++b){for(var i=c[b],d=[],j=i.diff||0,k=0,e=a.length;k<e;++k){var n=a[k];i.to<=n.from?d.push({from:n.from+j,to:n.to+j,domStart:n.domStart}):n.to<=i.from?d.push(n):(i.from>n.from&&d.push({from:n.from,to:i.from,domStart:n.domStart}),i.to<n.to&&d.push({from:i.to+j,to:n.to+j,domStart:n.domStart+(i.to-n.from)}))}a=d}for(var j=ia(),c=Math.min(F,Math.max(j.from-3,0)),i=Math.min(h.length,Math.max($,j.to+3)),
d=[],k=0,e=$-F,f=c,o=0,b=0,q=a.length;b<q;++b)if(n=a[b],!(n.to<=c)){if(n.from>=i)break;if(n.domStart>k||n.from>f)d.push({from:f,to:n.from,domSize:n.domStart-k,domStart:k}),o+=n.from-f;f=n.to;k=n.domStart+(n.to-n.from)}if(k!=e||f!=i)o+=Math.abs(i-f),d.push({from:f,to:i,domSize:e-k,domStart:k});if(d.length){I.style.display="none";if(o>(j.to-j.from)*0.3){n=c=Math.max(j.from-10,0);a=i=Math.min(j.to+7,h.length);b=[];q={line:n,ch:0};for(q=L(g.from,q)&&!L(g.to,q);n<a;++n){k=j=null;if(q){if(j=0,g.to.line==
n)q=!1,k=g.to.ch}else if(g.from.line==n)g.to.line==n?(j=g.from.ch,k=g.to.ch):(q=!0,j=g.from.ch);b.push(h[n].getHTML(j,k,!0))}I.innerHTML=b.join("")}else{a=g.from.line;b=g.to.line;q=0;n=ab&&ea.createElement("div");j=0;for(k=d.length;j<k;++j){e=d[j];f=e.to-e.from-e.domSize;o=I.childNodes[e.domStart+e.domSize+q]||null;if(ab)for(var m=Math.max(-f,e.domSize);m>0;--m)I.removeChild(o?o.previousSibling:I.lastChild);else if(f){for(m=Math.max(0,f);m>0;--m)I.insertBefore(ea.createElement("pre"),o);for(m=Math.max(0,
-f);m>0;--m)I.removeChild(o?o.previousSibling:I.lastChild)}for(var p=I.childNodes[e.domStart+q],r=a<e.from&&b>=e.from,m=e.from;m<e.to;++m){var u=null,s=null;if(r){if(u=0,b==m)r=!1,s=g.to.ch}else if(a==m)b==m?(u=g.from.ch,s=g.to.ch):(r=!0,u=g.from.ch);ab?(n.innerHTML=h[m].getHTML(u,s,!0),I.insertBefore(n.firstChild,o)):(p.innerHTML=h[m].getHTML(u,s,!1),p.className=h[m].className||"",p=p.nextSibling)}q+=f}}I.style.display="";a=c!=F||i!=$||sb!=v.clientHeight;F=c;$=i;Fa.style.top=c*V()+"px";if(a)sb=v.clientHeight,
U.style.height=h.length*V()+2*H.offsetTop+"px",Ga();ja==null&&(ja=tb(ta));ja>v.clientWidth?(H.style.width=ja+"px",U.style.width="",U.style.width=v.scrollWidth+"px"):H.style.width=U.style.width="";if(I.childNodes.length!=$-F)throw Error("BAD PATCH! "+JSON.stringify(d)+" size="+($-F)+" nodes="+I.childNodes.length);qa()}}else F=$=0}function Ga(){if(p.gutter||p.lineNumbers){var c=Fa.offsetHeight,a=v.clientHeight;aa.style.height=(c-a<2?a:c)+"px";c=[];for(a=F;a<Math.max($,F+1);++a){var b=h[a].gutterMarker,
q=p.lineNumbers?a+p.firstLineNumber:null;b&&b.text?q=b.text.replace("%N%",q!=null?q:""):q==null&&(q="\u00a0");c.push(b&&b.style?'<pre class="'+b.style+'">':"<pre>",q,"</pre>")}aa.style.display="none";Ha.innerHTML=c.join("");c=String(h.length).length;a=Ha.firstChild;b=a.textContent||a.innerText||a.nodeValue||"";for(q="";b.length+q.length<c;)q+="\u00a0";q&&a.insertBefore(ea.createTextNode(q),a.firstChild);aa.style.display="";H.style.marginLeft=aa.offsetWidth+"px"}}function qa(){var c=g.inverted?g.from:
g.to,a=V(),b=ub(c.line,c.ch)+"px",q=(c.line-F)*a+"px";Ia.style.top=c.line*a-v.scrollTop+"px";A(g.from,g.to)?(fa.style.top=q,fa.style.left=b,fa.style.display=""):fa.style.display="none"}function ma(c,a){var b=X&&z(X);b&&(L(b,c)?c=b:L(a,b)&&(a=b));la(c,a)}function la(c,a,b,q){if(!A(g.from,c)||!A(g.to,a)){if(L(a,c))var d=a,a=c,c=d;if(A(c,a))g.inverted=!1;else if(A(c,g.to))g.inverted=!1;else if(A(a,g.from))g.inverted=!0;if(b==null)b=g.from.line,q=g.to.line;A(c,a)?A(g.from,g.to)||K.push({from:b,to:q+1}):
A(g.from,g.to)?K.push({from:c.line,to:a.line+1}):(A(c,g.from)||(c.line<b?K.push({from:c.line,to:Math.min(a.line,b)+1}):K.push({from:b,to:Math.min(q,c.line)+1})),A(a,g.to)||(a.line<q?K.push({from:Math.max(b,c.line),to:q+1}):K.push({from:Math.max(c.line,q),to:a.line+1})));g.from=c;g.to=a;ba=!0}}function na(c,a,b){c=z({line:c,ch:a||0});(b?ma:la)(c,c)}function ga(c){return Math.max(0,Math.min(c,h.length-1))}function z(c){if(c.line<0)return{line:0,ch:0};if(c.line>=h.length)return{line:h.length-1,ch:h[h.length-
1].text.length};var a=c.ch,b=h[c.line].text.length;return a==null||a>b?{line:c.line,ch:b}:a<0?{line:c.line,ch:0}:c}function xa(c){ma({line:c,ch:0},{line:c,ch:h[c].text.length})}function ya(c){function a(c){if(A(g.from,g.to))return oa(g.from.line,c);for(var b=g.to.line-(g.to.ch?0:1),l=g.from.line;l<=b;++l)oa(l,c)}X=null;switch(p.tabMode){case "default":return!1;case "indent":a("smart");break;case "classic":if(A(g.from,g.to)){c?oa(g.from.line,"smart"):Aa("\t","end");break}case "shift":a(c?"subtract":
"add")}return!0}function oa(c,a){if(a=="smart")if(D.indent)var b=za(c);else a="prev";var d=h[c],i=d.indentation(),e=d.text.match(/^\s*/)[0],j;a=="prev"?j=c?h[c-1].indentation():0:a=="smart"?j=D.indent(b,d.text.slice(e.length)):a=="add"?j=i+p.indentUnit:a=="subtract"&&(j=i-p.indentUnit);j=Math.max(0,j);if(j-i){i="";b=0;if(p.indentWithTabs)for(d=Math.floor(j/Ja);d;--d)b+=Ja,i+="\t";for(;b<j;)++b,i+=" "}else{if(g.from.line!=c&&g.to.line!=c)return;i=e}ca(i,{line:c,ch:0},{line:c,ch:e.length})}function ra(){D=
t.getMode(p,p.mode);for(var c=0,a=h.length;c<a;++c)h[c].stateAfter=null;Y=[0];Ua()}function bb(c,a,b){function d(c,a,b,l){c=h[c];a=c.addMark(a,b,l);a.line=c;i.push(a)}var c=z(c),a=z(a),i=[];if(c.line==a.line)d(c.line,c.ch,a.ch,b);else{d(c.line,c.ch,null,b);for(var e=c.line+1,j=a.line;e<j;++e)d(e,0,null,b);d(a.line,0,a.ch,b)}K.push({from:c.line,to:a.line+1});return function(){for(var c,a,b=0;b<i.length;++b){var l=i[b],d=Ka(h,l.line);l.line.removeMark(l);d>-1&&(c==null&&(c=d),a=d)}c!=null&&K.push({from:c,
to:a+1})}}function tb(c){Z.innerHTML="<pre><span>x</span></pre>";Z.firstChild.firstChild.firstChild.nodeValue=c;return Z.firstChild.firstChild.offsetWidth||10}function ub(c,a){if(a==0)return 0;Z.innerHTML="<pre><span>"+h[c].getHTML(null,null,!1,a)+"</span></pre>";return Z.firstChild.firstChild.offsetWidth}function vb(c,a){function b(c){Z.innerHTML="<pre><span>"+d.getHTML(null,null,!1,c)+"</span></pre>";return Z.firstChild.firstChild.offsetWidth}if(a<=0)return 0;for(var d=h[c],i=0,e=0,j=d.text.length,
k,f=Math.min(j,Math.ceil(a/tb("x")));;){var n=b(f);if(n<=a&&f<j)f=Math.min(j,Math.ceil(f*1.2));else{k=n;j=f;break}}if(a>k)return j;f=Math.floor(j*0.8);n=b(f);n<a&&(i=f,e=n);for(;;){if(j-i<=1)return k-a>a-e?i:j;f=Math.ceil((i+j)/2);n=b(f);n>a?(j=f,k=n):(i=f,e=n)}}function $a(c,a){var b=V(),d=c.line-(a?F:0);return{x:ub(c.line,c.ch),y:d*b,yBot:(d+1)*b}}function wb(c){var c=$a(c,!0),a=La(H);return{x:a.left+c.x,y:a.top+c.y,yBot:a.top+c.yBot}}function V(){var c=I.childNodes.length;if(c)return I.offsetHeight/
c||1;Z.innerHTML="<pre>x</pre>";return Z.firstChild.offsetHeight||1}function pa(c,a){var b=La(v,!0),d,i;try{d=c.clientX,i=c.clientY}catch(e){return null}if(!a&&(d-b.left>v.clientWidth||i-b.top>v.clientHeight))return null;b=La(H,!0);i=F+Math.floor((i-b.top)/V());return z({line:i,ch:vb(ga(i),d-b.left)})}function xb(c){function a(){var c=W(s.value).join("\n");c!=i&&u(Aa)(c,"end");Ia.style.position="relative";s.style.cssText=d;sa=!1;Sa();C()}var b=pa(c);if(b&&!window.opera){(A(g.from,g.to)||L(b,g.from)||
!L(b,g.to))&&u(na)(b.line,b.ch);var d=s.style.cssText;Ia.style.position="absolute";s.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(Db(c)-1)+"px; left: "+(Eb(c)-1)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";sa=!0;var i=s.value=Q();Ea();va(s,0,s.value.length);if(cb){Ma(c);var e=x(window,"mouseup",function(){e();setTimeout(a,20)},!0)}else setTimeout(a,50)}}function mb(){clearInterval(Ta);var c=
!0;fa.style.visibility="";Ta=setInterval(function(){fa.style.visibility=(c=!c)?"":"hidden"},650)}function yb(c){function a(c,b,d){if(c.text)for(var l=c.styles,c=j?0:c.text.length-1,e,i=j?0:l.length-2,q=j?l.length:-2;i!=q;i+=2*f){var n=l[i];if(l[i+1]!=null&&l[i+1]!=p)c+=f*n.length;else for(var h=j?0:n.length-1,w=j?n.length:-1;h!=w;h+=f,c+=f)if(c>=b&&c<d&&v.test(e=n.charAt(h))){var g=db[e];if(g.charAt(1)==">"==j)r.push(e);else if(r.pop()!=g.charAt(0))return{pos:c,match:!1};else if(!r.length)return{pos:c,
match:!0}}}}var b=g.inverted?g.from:g.to,d=h[b.line],i=b.ch-1,e=i>=0&&db[d.text.charAt(i)]||db[d.text.charAt(++i)];if(e){e.charAt(0);for(var j=e.charAt(1)==">",f=j?1:-1,m=d.styles,n=i+1,e=0,o=m.length;e<o;e+=2)if((n-=m[e].length)<=0){var p=m[e+1];break}for(var r=[d.text.charAt(i)],v=/[(){}[\]]/,e=b.line,o=j?Math.min(e+100,h.length):Math.max(-1,e-100);e!=o;e+=f){var d=h[e],s=e==b.line;if(s=a(d,s&&j?i+1:0,s&&!j?i:d.text.length))break}s||(s={pos:null,match:!1});var p=s.match?"CodeMirror-matchingbracket":
"CodeMirror-nonmatchingbracket",t=bb({line:b.line,ch:i},{line:b.line,ch:i+1},p),z=s.pos!=null?bb({line:e,ch:s.pos},{line:e,ch:s.pos+1},p):function(){},b=u(function(){t();z()});c?setTimeout(b,800):Na=b}}function zb(c){var a,b,d=c;for(c-=40;d>c;--d){if(d==0)return 0;var e=h[d-1];if(e.stateAfter)return d;e=e.indentation();if(b==null||a>e)b=d,a=e}return b}function za(c){for(var a=zb(c),b=a&&h[a-1].stateAfter,b=b?ka(D,b):eb(D);a<c;++a){var d=h[a];d.highlight(D,b);d.stateAfter=ka(D,b)}c<h.length&&!h[c].stateAfter&&
Y.push(c);return b}function kb(){for(var c=+new Date+p.workTime,a=Y.length;Y.length;){var b=h[F].stateAfter?Y.pop():F;if(!(b>=h.length)){for(var d=zb(b),e=d&&h[d-1].stateAfter,e=e?ka(D,e):eb(D),f=0,j=D.compareStates,k=h.length;d<k;++d){var g=h[d],n=g.stateAfter;if(+new Date>c){Y.push(d);Ua(p.workDelay);K.push({from:b,to:d+1});return}var m=g.highlight(D,e);g.stateAfter=ka(D,e);if(j){if(n&&j(n,e))break}else if(m||!n)f=0;else if(++f>3)break}K.push({from:b,to:d+1})}}if(a&&p.onHighlightComplete)p.onHighlightComplete(J)}
function Ua(c){Y.length&&lb.set(c,u(kb))}function Ya(){T=null;K=[];Va=ba=!1}function Za(){var c=!1;ba&&(c=!rb());K.length?R(K):ba&&qa();c&&rb();ba&&mb();S&&!sa&&(T===!0||T!==!1&&ba)&&Sa();ba&&p.matchBrackets&&setTimeout(u(function(){Na&&(Na(),Na=null);yb(!1)}),20);c=Va;if(ba&&p.onCursorActivity)p.onCursorActivity(J);if(c&&p.onChange&&J)p.onChange(J,c)}function u(c){return function(){Ab++||Ya();try{var a=c.apply(this,arguments)}finally{--Ab||Za()}return a}}function Bb(c,a,b){this.atOccurrence=!1;b==
null&&(b=typeof c=="string"&&c==c.toLowerCase());a=a&&typeof a=="object"?z(a):{line:0,ch:0};this.pos={from:a,to:a};if(typeof c!="string")this.matches=function(a,b){if(a)for(var d=h[b.line].text.slice(0,b.ch),e=d.match(c),l=0;e;){var f=d.indexOf(e[0]);l+=f;d=d.slice(f+1);if(f=d.match(c))e=f;else break;l++}else d=h[b.line].text.slice(b.ch),l=(e=d.match(c))&&b.ch+d.indexOf(e[0]);if(e)return{from:{line:b.line,ch:l},to:{line:b.line,ch:l+e[0].length},match:e}};else{b&&(c=c.toLowerCase());var d=b?function(a){return a.toLowerCase()}:
function(a){return a},e=c.split("\n");this.matches=e.length==1?function(a,b){var e=d(h[b.line].text),l=c.length,f;if(a?b.ch>=l&&(f=e.lastIndexOf(c,b.ch-l))!=-1:(f=e.indexOf(c,b.ch))!=-1)return{from:{line:b.line,ch:f},to:{line:b.line,ch:f+l}}}:function(a,c){var b=c.line,l=a?e.length-1:0,f=e[l],g=d(h[b].text),w=a?g.indexOf(f)+f.length:g.lastIndexOf(f);if(!(a?w>=c.ch||w!=f.length:w<=c.ch||w!=g.length-f.length))for(;;){if(a?!b:b==h.length-1)break;g=d(h[b+=a?-1:1].text);f=e[a?--l:++l];if(l>0&&l<e.length-
1)if(g!=f)break;else continue;l=a?g.lastIndexOf(f):g.indexOf(f)+f.length;if(a?l!=g.length-f.length:l!=f.length)break;f={line:c.line,ch:w};b={line:b,ch:l};return{from:a?b:f,to:a?f:b}}}}}var p={},fb=t.defaults,wa;for(wa in fb)fb.hasOwnProperty(wa)&&(p[wa]=(b&&b.hasOwnProperty(wa)?b:fb)[wa]);var ea=p.document,M=ea.createElement("div");M.className="CodeMirror";M.innerHTML='<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 2px;" wrap="off"></textarea></div><div class="CodeMirror-scroll cm-s-'+
p.theme+'"><div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>';a.appendChild?a.appendChild(M):a(M);var Ia=M.firstChild,s=Ia.firstChild,v=M.lastChild,U=v.firstChild,Z=U.firstChild,Fa=Z.nextSibling,
aa=Fa.firstChild,Ha=aa.firstChild,H=aa.nextSibling.firstChild,fa=H.firstChild,I=fa.nextSibling;if(p.tabindex!=null)s.tabindex=p.tabindex;if(!p.gutter&&!p.lineNumbers)aa.style.display="none";var Xa=new gb,lb=new gb,Ta,D,h=[new ua("")],Y,O=new Ra,S;ra();var g={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},X,da,hb,T,K,Va,ba,sa,F=0,$=0,sb=0,Oa=null,E,Na,ta="",ja;u(function(){e(p.value||"");T=!1})();x(v,"mousedown",u(function(a){function b(a){var c=pa(a,!0);if(c&&!A(c,g)){S||d();g=c;ma(i,c);T=!1;var e=
ia();if(c.line>=e.to||c.line<e.from)h=setTimeout(u(function(){b(a)}),150)}}for(var e=a.target||a.srcElement;e!=M;e=e.parentNode)if(e.parentNode==U&&e!=Fa)return;var f=hb;hb=null;for(e=a.target||a.srcElement;e!=M;e=e.parentNode)if(e.parentNode==Ha){if(p.onGutterClick)p.onGutterClick(J,Ka(Ha.childNodes,e)+F);return B(a)}var i=pa(a);switch(Fb(a)){case 3:cb&&!ib&&xb(a);return;case 2:i&&na(i.line,i.ch,!0);return}if(i){S||d();B(a);if(f&&+new Date-f<400)return xa(i.line);na(i.line,i.ch,!0);var g=i,h,k=x(ea,
"mousemove",u(function(a){clearTimeout(h);B(a);b(a)}),!0),m=x(ea,"mouseup",u(function(a){clearTimeout(h);var c=pa(a);c&&ma(i,c);B(a);Ea();T=!0;k();m()}),!0)}else(a.target||a.srcElement)==v&&B(a)}));cb||x(v,"contextmenu",xb);x(U,"dblclick",u(function(a){var b=pa(a);if(b){for(var d=h[b.line].text,e=b.ch,f=b.ch;e>0&&/\w/.test(d.charAt(e-1));)--e;for(;f<d.length&&/\w/.test(d.charAt(f));)++f;ma({line:b.line,ch:e},{line:b.line,ch:f});B(a);hb=+new Date}}));x(v,"scroll",function(){R([]);if(p.onScroll)p.onScroll(J)});
x(window,"resize",function(){R(!0)});x(s,"keyup",u(function(a){if(!p.onKeyEvent||!p.onKeyEvent(J,jb(a)))da&&(da=null,T=!0),a.keyCode==16&&(X=null)}));x(s,"keydown",u(function(a){S||d();var b=a.keyCode;if(Gb&&b==27)a.returnValue=!1;var e=(ib?a.metaKey:a.ctrlKey)&&!a.altKey,f=a.ctrlKey||a.altKey||a.metaKey;X=b==16||a.shiftKey?X||(g.inverted?g.to:g.from):null;if(!p.onKeyEvent||!p.onKeyEvent(J,jb(a))){if(b==33||b==34)return b=b==34,e=Math.floor(v.clientHeight/V()),f=g.inverted?g.from:g.to,na(f.line+Math.max(e-
1,1)*(b?1:-1),f.ch,!0),B(a);if(e&&(b==36||b==35||ib&&(b==38||b==40)))return b=b==36||b==38?{line:0,ch:0}:{line:h.length-1,ch:h[h.length-1].text.length},ma(b,b),B(a);if(e&&b==65)return b=h.length-1,la({line:0,ch:0},{line:b,ch:h[b].text.length}),B(a);if(!p.readOnly){if(!f&&b==13)return;if(!f&&b==9&&ya(a.shiftKey))return B(a);if(e&&b==90)return r(),B(a);if(e&&(a.shiftKey&&b==90||b==89))return ob(),B(a)}Oa=(e?"c":"")+b;if(g.inverted&&Ba.hasOwnProperty(Oa)&&(a=Ca(s)))da={anchor:a.start},va(s,a.start,a.start);
P(Oa)}}));x(s,"keypress",u(function(a){if(!p.onKeyEvent||!p.onKeyEvent(J,jb(a))){if(p.electricChars&&D.electricChars){var b=String.fromCharCode(a.charCode==null?a.keyCode:a.charCode);D.electricChars.indexOf(b)>-1&&setTimeout(u(function(){oa(g.to.line,"smart")}),50)}b=a.keyCode;b==13?(p.readOnly||(Aa("\n","end"),p.enterMode!="flat"&&oa(g.from.line,p.enterMode=="keep"?"prev":"smart")),B(a)):!a.ctrlKey&&!a.altKey&&!a.metaKey&&b==9&&p.tabMode!="default"?B(a):P(Oa)}}));x(s,"focus",d);x(s,"blur",f);x(v,
"dragenter",Ma);x(v,"dragover",Ma);x(v,"drop",u(function(a){a.preventDefault();var b=pa(a,!0),d=a.dataTransfer.files;if(b&&!p.readOnly)if(d&&d.length&&window.FileReader&&window.File)for(var a=function(a,c){var d=new FileReader;d.onload=function(){f[c]=d.result;++g==e&&ca(f.join(""),z(b),z(b))};d.readAsText(a)},e=d.length,f=Array(e),g=0,h=0;h<e;++h)a(d[h],h);else try{(f=a.dataTransfer.getData("Text"))&&ca(f,b,b)}catch(k){}}));x(v,"paste",function(){Ea();P()});x(s,"paste",function(){P()});x(s,"cut",
function(){P()});var Cb;try{Cb=ea.activeElement==s}catch(Hb){}Cb?setTimeout(d,20):f();var J={getValue:function(){for(var a=[],b=0,d=h.length;b<d;++b)a.push(h[b].text);return a.join("\n")},setValue:u(e),getSelection:Q,replaceSelection:u(Aa),focus:function(){Ea();d();P()},setOption:function(a,b){p[a]=b;if(a=="lineNumbers"||a=="gutter"){var d=p.gutter||p.lineNumbers;aa.style.display=d?"":"none";d?Ga():I.parentNode.style.marginLeft=0}else if(a=="mode"||a=="indentUnit")ra();else if(a=="readOnly"&&b=="nocursor")s.blur();
else if(a=="theme")v.className=v.className.replace(/cm-s-\w+/,"cm-s-"+b)},getOption:function(a){return p[a]},undo:u(r),redo:u(ob),indentLine:u(function(a){a>=0&&a<h.length&&oa(a,"smart")}),historySize:function(){return{undo:O.done.length,redo:O.undone.length}},matchBrackets:u(function(){yb(!0)}),getTokenAt:function(a){a=z(a);return h[a.line].getTokenAt(D,za(a.line),a.ch)},getStateAfter:function(a){a=ga(a==null?h.length-1:a);return za(a+1)},cursorCoords:function(a){if(a==null)a=g.inverted;return wb(a?
g.from:g.to)},charCoords:function(a){return wb(z(a))},coordsChar:function(a){var b=La(H),d=ga(Math.min(h.length-1,F+Math.floor((a.y-b.top)/V())));return z({line:d,ch:vb(ga(d),a.x-b.left)})},getSearchCursor:function(a,b,d){return new Bb(a,b,d)},markText:u(function(a,b,d){return u(bb(a,b,d))}),setMarker:function(a,b,d){typeof a=="number"&&(a=h[ga(a)]);a.gutterMarker={text:b,style:d};Ga();return a},clearMarker:function(a){typeof a=="number"&&(a=h[ga(a)]);a.gutterMarker=null;Ga()},setLineClass:u(function(a,
b){if(typeof a=="number")var d=a,a=h[ga(a)];else if(d=Ka(h,a),d==-1)return null;if(a.className!=b)a.className=b,K.push({from:d,to:d+1});return a}),lineInfo:function(a){if(typeof a=="number"){var b=a,a=h[a];if(!a)return null}else if(b=Ka(h,a),b==-1)return null;var d=a.gutterMarker;return{line:b,text:a.text,markerText:d&&d.text,markerClass:d&&d.style}},addWidget:function(a,b,d,e){var a=$a(z(a)),f=a.yBot,g=a.x;b.style.position="absolute";U.appendChild(b);b.style.left=g+"px";if(e=="over")f=a.y;else if(e==
"near"){var e=Math.max(v.offsetHeight,h.length*V()),j=Math.max(U.clientWidth,H.clientWidth)-H.offsetLeft;a.yBot+b.offsetHeight>e&&a.y>b.offsetHeight&&(f=a.y-b.offsetHeight);g+b.offsetWidth>j&&(g=j-b.offsetWidth)}b.style.top=f+H.offsetTop+"px";b.style.left=g+H.offsetLeft+"px";d&&ha(g,f,g+b.offsetWidth,f+b.offsetHeight)},lineCount:function(){return h.length},getCursor:function(a){if(a==null)a=g.inverted;return{line:(a?g.from:g.to).line,ch:(a?g.from:g.to).ch}},somethingSelected:function(){return!A(g.from,
g.to)},setCursor:u(function(a,b){b==null&&typeof a.line=="number"?na(a.line,a.ch):na(a,b)}),setSelection:u(function(a,b){la(z(a),z(b||a))}),getLine:function(a){if(a>=0&&a<h.length)return h[a].text},setLine:u(function(a,b){a>=0&&a<h.length&&ca(b,{line:a,ch:0},{line:a,ch:h[a].text.length})}),removeLine:u(function(a){a>=0&&a<h.length&&ca("",{line:a,ch:0},z({line:a+1,ch:0}))}),replaceRange:u(ca),getRange:function(a,b){return N(z(a),z(b))},operation:function(a){return u(a)()},refresh:function(){R(!0)},
getInputField:function(){return s},getWrapperElement:function(){return M},getScrollerElement:function(){return v}},Wa=!1,db={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Ab=0;Bb.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(a){function b(a){a={line:a,ch:0};d.pos={from:a,to:a};return d.atOccurrence=!1}for(var d=this,e=z(a?this.pos.from:this.pos.to);;){if(this.pos=this.matches(a,e))return this.atOccurrence=!0,this.pos.match||
!0;if(a){if(!e.line)return b(0);e={line:e.line-1,ch:h[e.line-1].text.length}}else{if(e.line==h.length-1)return b(h.length);e={line:e.line+1,ch:0}}}},from:function(){if(this.atOccurrence)return{line:this.pos.from.line,ch:this.pos.from.ch}},to:function(){if(this.atOccurrence)return{line:this.pos.to.line,ch:this.pos.to.ch}},replace:function(a){var b=this;this.atOccurrence&&u(function(){b.pos.to=ca(a,b.pos.from,b.pos.to)})()}};for(var Pa in Qa)Qa.propertyIsEnumerable(Pa)&&!J.propertyIsEnumerable(Pa)&&
(J[Pa]=Qa[Pa]);return J}function ka(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var e={},d;for(d in b){var f=b[d];f instanceof Array&&(f=f.concat([]));e[d]=f}return e}function eb(a,b,e){return a.startState?a.startState(b,e):!0}function ha(a){this.pos=this.start=0;this.string=a}function ua(a,b){this.styles=b||[a,null];this.stateAfter=null;this.text=a;this.marked=this.gutterMarker=this.className=null}function qa(a,b,e,d){for(var f=0,m=0,o=0;m<b;f+=2){var r=e[f],t=m+r.length;o==0?(t>
a&&d.push(r.slice(a-m,Math.min(r.length,b-m)),e[f+1]),t>=a&&(o=1)):o==1&&(t>b?d.push(r.slice(0,b-m),e[f+1]):d.push(r,e[f+1]));m=t}}function Ra(){this.time=0;this.done=[];this.undone=[]}function kb(){Ma(this)}function jb(a){if(!a.stop)a.stop=kb;return a}function B(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Ma(a){B(a);a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Fb(a){if(a.which)return a.which;else if(a.button&1)return 1;else if(a.button&2)return 3;else if(a.button&
4)return 2}function Eb(a){if(a.pageX!=null)return a.pageX;var b=(a.target||a.srcElement).ownerDocument;return a.clientX+b.body.scrollLeft+b.documentElement.scrollLeft}function Db(a){if(a.pageY!=null)return a.pageY;var b=(a.target||a.srcElement).ownerDocument;return a.clientY+b.body.scrollTop+b.documentElement.scrollTop}function x(a,b,e,d){function f(a){e(a||window.event)}if(typeof a.addEventListener=="function"){if(a.addEventListener(b,f,!1),d)return function(){a.removeEventListener(b,f,!1)}}else if(a.attachEvent("on"+
b,f),d)return function(){a.detachEvent("on"+b,f)}}function gb(){this.id=null}function xa(a,b){if(b==null&&(b=a.search(/[^\s\u00a0]/),b==-1))b=a.length;for(var e=0,d=0;e<b;++e)a.charAt(e)=="\t"?d+=Ja-d%Ja:++d;return d}function La(a,b){for(var e=a.ownerDocument.body,d=0,f=0,m=!1,o=a;o;o=o.offsetParent){d+=o.offsetLeft;f+=o.offsetTop;var r;if(r=b)r=o.currentStyle?o.currentStyle:window.getComputedStyle(o,null),r=r.position=="fixed";r&&(m=!0)}e=b&&!m?null:e;for(o=a.parentNode;o!=e;o=o.parentNode)o.scrollLeft!=
null&&(d-=o.scrollLeft,f-=o.scrollTop);return{left:d,top:f}}function A(a,b){return a.line==b.line&&a.ch==b.ch}function L(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function ya(a){ra.innerText=ra.textContent=a;return ra.innerHTML}function Ka(a,b){if(a.indexOf)return a.indexOf(b);for(var e=0,d=a.length;e<d;++e)if(a[e]==b)return e;return-1}t.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,tabMode:"classic",enterMode:"indent",electricChars:!0,onKeyEvent:null,lineNumbers:!1,
gutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var ia={},Q={};t.defineMode=function(a,b){if(!t.defaults.mode&&a!="null")t.defaults.mode=a;ia[a]=b};t.defineMIME=function(a,b){Q[a]=b};t.getMode=function(a,b){typeof b=="string"&&Q.hasOwnProperty(b)&&(b=Q[b]);if(typeof b=="string")var e=b,d={};else if(b!=
null)e=b.name,d=b;var f=ia[e];if(!f)return window.console&&console.warn("No mode "+e+" found, falling back to plain text."),t.getMode(a,"text/plain");return f(a,d||{})};t.listModes=function(){var a=[],b;for(b in ia)ia.propertyIsEnumerable(b)&&a.push(b);return a};t.listMIMEs=function(){var a=[],b;for(b in Q)Q.propertyIsEnumerable(b)&&a.push(b);return a};var Qa={};t.defineExtension=function(a,b){Qa[a]=b};t.fromTextArea=function(a,b){function e(){a.value=o.getValue()}b||(b={});b.value=a.value;if(!b.tabindex&&
a.tabindex)b.tabindex=a.tabindex;if(a.form){var d=x(a.form,"submit",e,!0);if(typeof a.form.submit=="function"){var f=a.form.submit,m=function(){e();a.form.submit=f;a.form.submit();a.form.submit=m};a.form.submit=m}}a.style.display="none";var o=t(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);o.save=e;o.toTextArea=function(){e();a.parentNode.removeChild(o.getWrapperElement());a.style.display="";if(a.form&&(d(),typeof a.form.submit=="function"))a.form.submit=f};return o};t.startState=eb;
t.copyState=ka;ha.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if(typeof a=="string"?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.start;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;
return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(a>-1)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return xa(this.string,this.start)},indentation:function(){return xa(this.string)},match:function(a,b,e){if(typeof a=="string"){if((e?this.string.toLowerCase():this.string).indexOf(e?a.toLowerCase():a,this.pos)==this.pos)return b!==!1&&(this.pos+=a.length),!0}else return(a=this.string.slice(this.pos).match(a))&&
b!==!1&&(this.pos+=a[0].length),a},current:function(){return this.string.slice(this.start,this.pos)}};t.StringStream=ha;ua.prototype={replace:function(a,b,e){var d=[],f=this.marked;qa(0,a,this.styles,d);e&&d.push(e,null);qa(b,this.text.length,this.styles,d);this.styles=d;this.text=this.text.slice(0,a)+e+this.text.slice(b);this.stateAfter=null;if(f){a=e.length-(b-a);e=this.text.length;for(d=0;d<f.length;++d){var m=f[d],o=!1;if(m.from>=e)o=!0;else if(m.from=m.from<=Math.min(b,b+a)?m.from:m.from+a,m.to!=
null)m.to=m.to<=Math.min(b,b+a)?m.to:m.to+a;if(o||m.from>=m.to)f.splice(d,1),d--}}},split:function(a,b){var e=[b,null];qa(a,this.text.length,this.styles,e);return new ua(b+this.text.slice(a),e)},addMark:function(a,b,e){a={from:a,to:b,style:e};if(this.marked==null)this.marked=[];this.marked.push(a);this.marked.sort(function(a,b){return a.from-b.from});return a},removeMark:function(a){var b=this.marked;if(b)for(var e=0;e<b.length;++e)if(b[e]==a){b.splice(e,1);break}},highlight:function(a,b){var e=new ha(this.text),
d=this.styles,f=0,m=!1,o=d[0],r;for(this.text==""&&a.blankLine&&a.blankLine(b);!e.eol();){var t=a.token(e,b),x=this.text.slice(e.start,e.pos);e.start=e.pos;if(f&&d[f-1]==t)d[f-2]+=x;else if(x){if(!m&&(d[f+1]!=t||f&&d[f-2]!=r))m=!0;d[f++]=x;d[f++]=t;r=o;o=d[f]}if(e.pos>5E3){d[f++]=this.text.slice(e.pos);d[f++]=null;break}}if(d.length!=f)d.length=f,m=!0;f&&d[f-2]!=r&&(m=!0);return m||d.length<5&&this.text.length<10},getTokenAt:function(a,b,e){for(var d=new ha(this.text);d.pos<e&&!d.eol();){d.start=
d.pos;var f=a.token(d,b)}return{start:d.start,end:d.pos,string:d.current(),className:f||null,state:b}},indentation:function(){return xa(this.text)},getHTML:function(a,b,e,d){function f(a,b){a&&(b?m.push('<span class="',b,'">',ya(a),"</span>"):m.push(ya(a)))}var m=[];e&&m.push(this.className?'<pre class="'+this.className+'">':"<pre>");var o=this.styles,r=this.text,t=this.marked;a==b&&(a=null);var x=r.length;d!=null&&(x=Math.min(d,x));if(!r&&d==null)f(" ",a!=null&&b==null?"CodeMirror-selected":null);
else if(!t&&a==null)for(a=d=0;a<x;d+=2){var b=o[d],A=b.length;a+A>x&&(b=b.slice(0,x-a));a+=A;f(b,"cm-"+o[d+1])}else{var d=r=0,B="",L=-1,N=null,R=function(){t&&(L+=1,N=L<t.length?t[L]:null)};for(R();r<x;){var C=x,P="";if(a!=null)if(a>r)C=a;else if(b==null||b>r)P=" CodeMirror-selected",b!=null&&(C=Math.min(C,b));for(;N&&N.to!=null&&N.to<=r;)R();N&&(N.from>r?C=Math.min(C,N.from):(P+=" "+N.style,N.to!=null&&(C=Math.min(C,N.to))));for(;;){var Q=r+B.length,W=A;P&&(W=A?A+P:P);f(Q>C?B.slice(0,C-r):B,W);if(Q>=
C){B=B.slice(C-r);r=C;break}r=Q;B=o[d++];A="cm-"+o[d++]}}a!=null&&b==null&&f(" ","CodeMirror-selected")}e&&m.push("</pre>");return m.join("")}};Ra.prototype={addChange:function(a,b,e){this.undone.length=0;var d=+new Date,f=this.done[this.done.length-1];if(d-this.time>400||!f||f.start>a+b||f.start+f.added<a-f.added+f.old.length)this.done.push({start:a,added:b,old:e});else{var m=0;if(a<f.start){for(var o=f.start-a-1;o>=0;--o)f.old.unshift(e[o]);f.added+=f.start-a;f.start=a}else f.start<a&&(m=a-f.start,
b+=m);o=f.added-m;for(a=e.length;o<a;++o)f.old.push(e[o]);if(f.added<b)f.added=b}this.time=d}};gb.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};var ab=function(){var a=document.createElement("pre");a.innerHTML=" ";return!a.innerHTML}(),cb=/gecko\/\d{7}/i.test(navigator.userAgent),Gb=/MSIE \d/.test(navigator.userAgent),lb=/Apple Computer/.test(navigator.vendor),Da="\n";(function(){var a=document.createElement("textarea");a.value="foo\nbar";a.value.indexOf("\r")>-1&&(Da=
"\r\n")})();for(var Ja=8,ib=/Mac/.test(navigator.platform),Ba={},R=35;R<=40;++R)Ba[R]=Ba["c"+R]=!0;var ra=document.createElement("div");t.htmlEscape=ya;var W,Ca,va;W="\n\nb".split(/\n/).length!=3?function(a){for(var b=0,e,d=[];(e=a.indexOf("\n",b))>-1;)d.push(a.slice(b,a.charAt(e-1)=="\r"?e-1:e)),b=e+1;d.push(a.slice(b));return d}:function(a){return a.split(/\r?\n/)};t.splitLines=W;window.getSelection?(Ca=function(a){try{return{start:a.selectionStart,end:a.selectionEnd}}catch(b){return null}},va=
lb?function(a,b,e){b==e?a.setSelectionRange(b,e):(a.setSelectionRange(b,e-1),window.getSelection().modify("extend","forward","character"))}:function(a,b,e){try{a.setSelectionRange(b,e)}catch(d){}}):(Ca=function(a){try{var b=a.ownerDocument.selection.createRange()}catch(e){return null}if(!b||b.parentElement()!=a)return null;var d=a.value,f=d.length,m=a.createTextRange();m.moveToBookmark(b.getBookmark());var o=a.createTextRange();o.collapse(!1);if(m.compareEndPoints("StartToEnd",o)>-1)return{start:f,
end:f};a=-m.moveStart("character",-f);for(b=d.indexOf("\r");b>-1&&b<a;b=d.indexOf("\r",b+1),a++);if(m.compareEndPoints("EndToEnd",o)>-1)return{start:a,end:f};f=-m.moveEnd("character",-f);for(b=d.indexOf("\r");b>-1&&b<f;b=d.indexOf("\r",b+1),f++);return{start:a,end:f}},va=function(a,b,e){var d=a.createTextRange();d.collapse(!0);for(var f=d.duplicate(),m=0,a=a.value,o=a.indexOf("\n");o>-1&&o<b;o=a.indexOf("\n",o+1))++m;for(d.move("character",b-m);o>-1&&o<e;o=a.indexOf("\n",o+1))++m;f.move("character",
e-m);d.setEndPoint("EndToEnd",f);d.select()});t.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});t.defineMIME("text/plain","null");return t}();