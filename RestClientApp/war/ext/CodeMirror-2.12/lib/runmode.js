CodeMirror.runMode=function(c,d,a){var d=CodeMirror.getMode({indentUnit:2},d),g=a.nodeType==1;if(g)var h=a,e=[],a=function(a,b){a=="\n"?e.push("<br>"):b?e.push('<span class="cm-'+CodeMirror.htmlEscape(b)+'">'+CodeMirror.htmlEscape(a)+"</span>"):e.push(CodeMirror.htmlEscape(a))};for(var c=CodeMirror.splitLines(c),i=CodeMirror.startState(d),f=0,j=c.length;f<j;++f){f&&a("\n");for(var b=new CodeMirror.StringStream(c[f]);!b.eol();){var k=d.token(b,i);a(b.current(),k);b.start=b.pos}}if(g)h.innerHTML=e.join("")};